ServerRoot "/home/dariosky/webapps/tamtaxi/apache2"

LoadModule dir_module        modules/mod_dir.so
LoadModule env_module        modules/mod_env.so
LoadModule log_config_module modules/mod_log_config.so
LoadModule mime_module       modules/mod_mime.so
LoadModule rewrite_module    modules/mod_rewrite.so
LoadModule setenvif_module   modules/mod_setenvif.so
LoadModule wsgi_module       modules/mod_wsgi.so
LoadModule alias_module      modules/mod_alias.so

LogFormat "%{X-Forwarded-For}i %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
CustomLog /home/dariosky/logs/user/tamtaxi/access.log combined
#DirectoryIndex index.py
#DocumentRoot /home/dariosky/webapps/tamtaxi/htdocs
ErrorLog /home/dariosky/logs/user/tamtaxi/error.log
KeepAlive Off
Listen 21481
MaxSpareThreads 2
MinSpareThreads 1
ServerLimit 1
SetEnvIf X-Forwarded-SSL on HTTPS=1
ThreadsPerChild 3
# era 2 processi, 1thread. cambiato il 28/2
WSGIDaemonProcess tamtaxi processes=1 threads=3 python-path=/home/dariosky/environments/tam/lib/python2.7/site-packages
WSGIProcessGroup tamtaxi
WSGIRestrictEmbedded On
WSGILazyInitialization On

# Host in maintenance-mode
#VirtualHost *>
#   DocumentRoot /home/dariosky/webapps/tamtaxi/tamtaxi/media/downtime
#   CustomLog logs/maintenance-access_log combined
#   ErrorLog logs/maintenance-error_log
#   ErrorDocument 404 /maintenance.html
#/VirtualHost>


<VirtualHost *>
#  Servername tam.dariosky.it
#  ServerAlias tamtest.dariosky.it tamtest.dariosky.webfactional.com
	WSGIScriptAlias / /home/dariosky/projects/tamtaxi/deploy/tam.wsgi
	<LocationMatch "^/favicon.ico">
			SetHandler default
	</LocationMatch>
	alias /favicon.ico /home/dariosky/projects/tamtaxi/media/tam.ico
</VirtualHost>
